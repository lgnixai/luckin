# 实施计划 - 构建VSCode级别的IDE界面

- [x] 1. 创建活动栏图标映射系统
  - 在ActivityBar组件中定义图标映射对象，将每个活动项ID映射到对应的Lucide React图标
  - 实现图标获取函数，包含回退机制处理未找到的图标
  - 更新ActivityBar组件以使用动态图标而不是固定的FileText图标
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9_

- [x] 2. 修复Workbench组件的布局结构
  - 更新Workbench组件的CSS类，确保使用正确的Flexbox布局
  - 设置主容器为`h-screen`并添加`overflow: hidden`防止整体页面滚动
  - 优化主内容区域的flex布局，确保组件正确对齐
  - _需求: 2.1, 2.2, 3.1, 3.2_

- [x] 3. 优化Sidebar组件的高度和滚动行为
  - 更新Sidebar组件的CSS结构，使用flex布局确保高度填满可用空间
  - 将滚动行为限制在侧边栏内容区域，而不是整个侧边栏容器
  - 确保侧边栏高度与窗口高度匹配，不会超出或变形
  - _需求: 2.1, 2.2, 2.4, 2.5_

- [x] 3.1. 修复侧边栏宽度调整时的布局行为
  - 更新ResizablePanel组件的flex属性，确保侧边栏使用flex-shrink: 0
  - 修改编辑器列的CSS，使其使用flex: 1和min-width: 0以正确响应宽度变化
  - 确保辅助栏使用flex-shrink: 0保持固定宽度
  - 验证拖动侧边栏时编辑器区域宽度调整而不是整体移动
  - _需求: 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.1.5, 2.1.6_

- [x] 3.2. 修复底部面板拖动功能
  - 增加ResizableBottomPanel拖动手柄的高度，从1px改为至少4-6px以提高可用性
  - 检查并修复拖动事件处理逻辑，确保向上和向下拖动都能正常工作
  - 优化拖动手柄的视觉设计，提供更好的悬停和拖动状态反馈
  - 验证拖动功能在不同浏览器中的兼容性
  - _需求: 2.2.1, 2.2.2, 2.2.3, 2.2.4, 2.2.5, 2.2.6_

- [x] 4. 修复MenuBar被编辑器遮挡的问题
  - 为MenuBar组件添加正确的z-index值，确保它在所有其他组件之上
  - 更新Workbench组件中MenuBar的CSS类，设置position和z-index属性
  - 验证MenuBar在不同布局状态下都完全可见
  - _需求: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 5. 确保StatusBar始终可见且正确定位
  - 验证StatusBar在Workbench布局中的位置，确保它固定在底部
  - 为StatusBar设置适当的z-index值
  - 测试在不同窗口大小下StatusBar的可见性
  - 确保侧边栏或其他组件不会遮挡StatusBar
  - _需求: 2.3, 4.2, 4.4_

- [x] 6. 添加图标导入和类型定义
  - 从lucide-react导入所需的图标组件（FolderOpen, Search, GitBranch, Bug, Package, User, Settings, TestTube）
  - 创建ActivityIconMap类型定义以确保类型安全
  - 更新ActivityBarProps接口以支持可选的自定义图标映射
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9_

- [x] 7. 实现响应式布局调整
  - 确保当窗口大小改变时，所有组件能够正确调整大小
  - 测试ResizablePanel组件与新布局的兼容性
  - 验证侧边栏宽度调整时的响应式行为
  - 验证在不同屏幕分辨率下的布局稳定性
  - _需求: 2.2, 2.6, 2.1.1, 2.1.2, 2.1.3, 4.3, 4.5_

- [x] 8. 添加错误处理和回退机制
  - 实现图标加载失败时的回退逻辑
  - 添加开发模式下的警告日志，用于调试图标映射问题
  - 确保组件在异常情况下仍能正常渲染
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9_

- [ ] 9. 创建单元测试验证图标显示
  - 编写测试用例验证每个活动项显示正确的图标
  - 测试图标映射函数的回退机制
  - 验证ActivityBar组件在不同状态下的渲染结果
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9_

- [ ] 10. 创建布局测试验证修复效果
  - 编写测试用例验证侧边栏高度与窗口高度匹配
  - 测试侧边栏宽度调整时编辑器区域的响应行为
  - 验证辅助栏在侧边栏调整时始终保持可见
  - 测试底部面板的双向拖动功能
  - 测试StatusBar的可见性和定位
  - 测试菜单栏的层级关系和可见性
  - 验证滚动行为仅限于正确的区域
  - _需求: 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.2.1, 2.2.2, 2.2.3, 3.1, 3.2, 3.3_

- [x] 11. VSCode级别的质量验证和集成测试
  - 在浏览器中测试完整的UI改进效果，对比VSCode的用户体验
  - 验证活动栏图标的视觉区分度和专业性
  - 确认底部状态栏完全可见且不变形
  - 验证菜单栏不被编辑器遮挡
  - 测试底部面板拖动的流畅性和响应性，确保与VSCode体验一致
  - 测试所有面板调整操作的交互质量
  - 验证整体布局在不同屏幕尺寸下的表现
  - 测试不同主题下的显示效果和一致性
  - _需求: 1.1-1.9, 2.1-2.6, 2.2.1-2.2.6, 3.1-3.5, 4.1-4.5, 5.1-5.6_